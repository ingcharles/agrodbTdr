<?php 	session_start();	require_once '../../clases/Conexion.php';	require_once '../../clases/ControladorCatalogos.php';	require_once '../../clases/ControladorServiciosInformacionTecnica.php';		$conexion = new Conexion();;	$cc = new ControladorCatalogos();	$csit = new ControladorServiciosInformacionTecnica();	$idRequerimiento=$_POST['id'];	$qRequerimiento=$csit->abrirRequerimientoRevisionIngreso($conexion, $idRequerimiento);	$requerimiento= pg_fetch_assoc($qRequerimiento);	$usuarioResponsable=$_SESSION['usuario'];?><!DOCTYPE html><html><head><meta charset="utf-8"></head><body>	<header>		<h1>Modificar Tipo de Requerimiento</h1>	</header>	<form id="nuevoRequerimiento" data-rutaAplicacion="serviciosInformacionTecnica" data-opcion="actualizarRequerimientoSAA">		<input type="hidden" id="idRequerimiento" name="idRequerimiento" value="<?php echo $idRequerimiento;?>" /> 		<input type="hidden" id="usuarioResponsable" name="usuarioResponsable" value="<?php echo $usuarioResponsable;?>" />		<div id="estado"></div>		<fieldset>			<legend>Tipo de Requerimiento</legend>					<div data-linea="1">					<label>Nombre:</label> 					<input type="text" id="nombreRequerimiento" name="nombreRequerimiento" value="<?php echo $requerimiento['nombre'];?>"  maxlength="512" disabled="disabled"/> 				</div>				<div data-linea="2">					<label>Descripción:</label> 				</div>				<div data-linea="3">					<textarea rows="3" cols="50" id="descripcion" name="descripcion" maxlength="512" disabled="disabled"><?php echo $requerimiento['descripcion'];?></textarea>				</div>				<p>					<button id="modificar" type="button" class="editar">Modificar</button>					<button id="actualizar" type="submit" class="guardar" disabled="disabled">Guardar</button>				</p>		</fieldset>	</form>		<form id="nuevoRequerimientoElemento" data-rutaAplicacion="serviciosInformacionTecnica" data-opcion="guardarRequerimientoElementosSAA" >		<input type="hidden" id="idRequerimiento" name="idRequerimiento" value="<?php echo $idRequerimiento;?>">		<input type="hidden" id="usuarioResponsable" name="usuarioResponsable" value="<?php echo $usuarioResponsable;?>" />		<fieldset>			<legend>Elemento para Verificación</legend>			<div data-linea="1">					<label>Nombre:</label> 					<input type="text" id="nombreElemento" name="nombreElemento"   maxlength="512" /> 			</div>			<div data-linea="2">				<label>Descripción:</label> 			</div>			<div data-linea="3">				<textarea rows="2" cols="50" id="descripcionElemento" name="descripcionElemento" maxlength="512" ></textarea>			</div>			<div data-linea="4">				<button type="submit" id="agregarDetalleRecorrido" class="mas" >Agregar</button>			</div>		</fieldset>	</form>			<fieldset>		<legend>Elementos para Verificación Agregados</legend>		<table id="camposDetalle" style="width:100%"  class="tablaMatriz">		<thead>		<tr>			<th>Nombre</th>			<th>Descripción</th>			<th>Eliminar</th>		</tr>		</thead>		<?php 			$qRequerimientoElemento=$csit->listaRequerimientoElemento($conexion, $idRequerimiento);			while ($fila = pg_fetch_assoc($qRequerimientoElemento)){				echo $csit->imprimirLineaRequerimientoElemento($fila['id_requerimiento_elemento'], $fila['nombre'], $fila['descripcion'],$usuarioResponsable);
			}
		?>		</table>	</fieldset>		</body><script type="text/javascript">	$(document).ready(function(){		distribuirLineas();	});	acciones("#nuevoRequerimientoElemento","#camposDetalle",null,null,new exitoIngresoo(),null,null,new validarInputs());	function validarInputs() {		var msj;	    this.ejecutar = function () {		    var error = false;	        $(".alertaCombo").removeClass("alertaCombo");			if ($("#nombreElemento").val()==""){			   error = true;		       $("#nombreElemento").addClass("alertaCombo");		       msj='Por favor ingrese el nombre del elemento';			}			return !error;    	    };	    this.mensajeError = function () {	    	mostrarMensaje(msj, "FALLO");	    }	}	function exitoIngresoo(){		this.ejecutar = function(msg){			mostrarMensaje("Nuevo registro agregado","EXITO");			var fila = msg.mensaje;			$("#camposDetalle").append(fila);				$("#nuevoRequerimientoElemento" + " fieldset input:not(:hidden,[data-resetear='no'])").val('');			$("#nuevoRequerimientoElemento fieldset textarea").val('');		};	}		$("#modificar").click(function(){		$("#nuevoRequerimiento input").removeAttr("disabled");		$("#nuevoRequerimiento textarea").removeAttr("disabled");		$("#actualizar").removeAttr("disabled");		$(this).attr("disabled",true);	});		function validaSoloNumeros() {		 if ((event.keyCode < 48) || (event.keyCode > 57))		  event.returnValue = false;	}		$("#nuevoRequerimiento").submit(function(event){		event.preventDefault();		$(".alertaCombo").removeClass("alertaCombo");		var error = false;		if(!$.trim($("#nombreRequerimiento").val())){			error = true;			$("#nombreRequerimiento").addClass("alertaCombo");			$("#estado").html('Por favor ingrese el nombre del tipo de requerimiento').addClass("alerta");		}		if (!error){			ejecutarJson("#nuevoRequerimiento");					}	});</script></html>					